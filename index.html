<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Kun&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Kun&#39;s Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Kun&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Kun's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Kun's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/31/《python学习手册》笔记-第三部分/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kung">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kun's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/31/《python学习手册》笔记-第三部分/" itemprop="url">《python学习手册》笔记(第三部分)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-31T16:16:29+08:00">
                2018-03-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第三部分-语句和语法"><a href="#第三部分-语句和语法" class="headerlink" title="第三部分 语句和语法"></a>第三部分 语句和语法</h2><hr>
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#第三部分-语句和语法">第三部分 语句和语法</a><ul>
<li><a href="#第-10-章-python语句和语法">第 10 章 Python语句和语法</a></li>
<li><a href="#第-11-章-赋值-表达式和打印">第 11 章 赋值、表达式和打印</a></li>
<li><a href="#第-12-章if测试和语法规则">第 12 章if测试和语法规则</a></li>
<li><a href="#第-13-章while和for循环">第 13 章while和for循环</a></li>
<li><a href="#第-14-章迭代器和解析一">第 14 章迭代器和解析（一）</a></li>
<li><a href="#第-15-章文档">第 15 章文档</a></li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<hr>
<h3 id="第-10-章-Python语句和语法"><a href="#第-10-章-Python语句和语法" class="headerlink" title="第 10 章 Python语句和语法"></a>第 10 章 Python语句和语法</h3><p><strong>1. 程序结构</strong></p>
<blockquote>
<ul>
<li>程序由模块构成</li>
<li>模块包含语句</li>
<li>语句包含表达式</li>
<li>表达式创建并处理对象</li>
</ul>
</blockquote>
<p><strong>2. print 不是保留字</strong></p>
<ul>
<li>需要注意print不是保留字，它是一个内置函数。</li>
</ul>
<p><strong>3. 缩进的结束为代码块的结束</strong></p>
<p><strong>4. 换行为语句的结束</strong></p>
<p><strong>5. 跨行语句</strong></p>
<ul>
<li>有时可能会遇到非常长的语句，可能需要把一条语句用多行表示。</li>
<li>在( ),{ },[ ]之间的语句可以跨行</li>
<li>\可以作为换行符放在每行的末尾 <strong>（不推荐使用这种方式）</strong></li>
</ul>
<p><strong>6. 异常捕获和处理</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>：</span><br><span class="line">    ...<span class="comment">#尝试执行这部分打码，发生异常转入except代码块</span></span><br><span class="line"><span class="keyword">except</span>：</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    ...<span class="comment">#入为发生异常，才会执行</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>try可以拦截任何错误</li>
</ul>
<hr>
<h3 id="第-11-章-赋值、表达式和打印"><a href="#第-11-章-赋值、表达式和打印" class="headerlink" title="第 11 章 赋值、表达式和打印"></a>第 11 章 赋值、表达式和打印</h3><p><strong>1. 赋值语句</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">span = <span class="string">'Spam'</span>               <span class="comment">#基本形式</span></span><br><span class="line">spam,ham = <span class="string">'yum'</span>,<span class="string">'YUM'</span>      <span class="comment">#元组赋值</span></span><br><span class="line">[spam,ham] = [<span class="string">'yum'</span>,<span class="string">'YUM'</span>]  <span class="comment">#列表赋值</span></span><br><span class="line">a,b,c,d = <span class="string">'spam'</span>            <span class="comment">#序列赋值</span></span><br><span class="line">a, *b = <span class="string">'spam'</span>              <span class="comment">#序列解包（Python3.0）</span></span><br><span class="line">spam = ham = <span class="string">'lunch'</span>        <span class="comment">#多目标赋值</span></span><br><span class="line">spam += <span class="number">42</span>                  <span class="comment">#增强赋值</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>序列解包提高了一种更灵活的赋值方式，在变量明前加一个型号实现一种模糊数量的赋值。</li>
<li>多目标赋值的本质是多个变量对同一个对象的多重引用，在对象为可变对象时应注意使用。</li>
<li>增强赋值语句自动优化进行更新原处，而不是创建新的对象，所以速度更快。</li>
</ul>
<p><strong>2. 序列赋值</strong></p>
<ul>
<li><p>分片赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string = <span class="string">'SPAM'</span></span><br><span class="line">a,b,c = list(string[:<span class="number">2</span>]) + list(string[<span class="number">2</span>:])</span><br><span class="line">a,b,c</span><br><span class="line"><span class="comment">#输出:</span></span><br><span class="line">（<span class="string">'S'</span>,<span class="string">'P'</span>,<span class="string">'AM'</span>）</span><br></pre></td></tr></table></figure>
</li>
<li><p>嵌套赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">((a,b),c) = (<span class="string">'SP'</span>,<span class="string">'AM'</span>)</span><br><span class="line">a,b,c</span><br><span class="line"><span class="comment">#输出:</span></span><br><span class="line">（<span class="string">'S'</span>,<span class="string">'P'</span>,<span class="string">'AM'</span>）</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>3. 序列解包赋值</strong></p>
<ul>
<li>变量前加一个型号，实现序列解包赋值，<strong>用一个列表收集</strong>对象序列中还没有赋值给其他变量的所有值。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">seq = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">a, *b = seq</span><br><span class="line">b</span><br><span class="line"><span class="comment">#输出:</span></span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">a, *b,c = seq</span><br><span class="line">b</span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>序列解包赋值与分片赋值的不同之处在于，<strong>序列解包总是返回一个列表</strong>，而分片则是返回与原对象相同类型的序列。</p>
</li>
<li><p>即使序列解包只匹配到一个项，也是赋值为一个列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">seq = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">a,b,c,d,*e = seq</span><br><span class="line">e</span><br><span class="line"><span class="comment">#输出:</span></span><br><span class="line">[<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果没有匹配到值，则赋值为一个空列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">seq = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">a,b,c,d,e,*f = seq</span><br><span class="line">f</span><br><span class="line"><span class="comment">#输出:</span></span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
</li>
<li><p>带型号的变量明在赋值运算中必须写入一个列表或tuple，否则会报错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>seq = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>*a = seq</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span></span><br><span class="line">SyntaxError: starred assignment target must be <span class="keyword">in</span> a list <span class="keyword">or</span> tuple</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>*a, = seq</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>4. 增强赋值语句</strong></p>
<ul>
<li>增强赋值语句适用于任何支持隐士二元表达式的类型。</li>
<li>增强赋值语句被技术优化，对可变对象默认优先实行在原处的改变，通常速度更快。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>seq = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>seq = seq + [<span class="number">10</span>,<span class="number">11</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>seq</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">10</span>, <span class="number">11</span>]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>5. 变量命名规则</strong></p>
<ul>
<li>变量名可以由字母、下划线和数字组成，必须以字母或下划线开头。</li>
<li>区分大小写</li>
<li><p>禁止使用保留字</p>
<blockquote>
<p>python3.0 共有33各保留字：<br>False      class       finally     is          return<br>None       continue    for         lambda      try<br>True       def         from        nonlocal    while<br>and        del         global      not         with<br>as         elif        if          or          yield<br>assert     else        import      pass<br>break      except      in          raise</p>
</blockquote>
</li>
<li><p>事实上无法对保留字左赋值运算</p>
</li>
</ul>
<p><strong>6. 命名惯例</strong></p>
<ul>
<li>一般以下划线开头的变量名对python解释器都有特殊意义的约定</li>
<li>以一个下划线开头的变量名(_X) 不会被from module import * 导入</li>
<li>前后有两个下划线的(__X__)是系统变量</li>
<li>以两个下划线开头，但后面没有下划线的(__X)是类的本地压缩变量</li>
<li>在交互模式下单个下划线(_)被用与存储最后一个表达式的结果</li>
<li>类名通常以大写字母开头</li>
<li>模块变量名一般为小写字母</li>
<li>变量名self并非保留字，但在类中一般有特殊的意义。</li>
</ul>
<p><strong>7. 变量名没有类型，但对象有</strong></p>
<p><strong>8. 没有指定返回任何值的函数，最终默认返回None</strong></p>
<ul>
<li>注意：<br><code>L = L.sort()</code>,<code>L = L.append()</code>等类似的赋值语句初学者很容易引起错误。这些返回值为None的方法，将None赋值给L。</li>
</ul>
<p><strong>9. 打印操作</strong></p>
<ul>
<li>打印print语句只是标准输出流的接口。</li>
<li>print的本质是将一个或多个对象的文本表达形式发生到标准输出或其他一个类似的文件。</li>
<li>python中，打印、流和文件的概念有紧密的联系。</li>
</ul>
<p><strong>10. 标准输出流</strong></p>
<ul>
<li>是默认的程序文本结果输出的接口（和文件是python与操作系统的接口的理解类似）</li>
<li>sys.stdout 具有一个类似文件write(string)的方法，可以接受传递任何类型的对象。</li>
</ul>
<p><strong>11. python的3个标准流</strong></p>
<ul>
<li>python 有三个默认的标准流，分别是标准输出流stdout,标准输入流stdin和标准错误流stderr。在sys模块中可以看到。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.std</span><br><span class="line">sys.stderr  sys.stdin   sys.stdout  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.stdout</span><br><span class="line">&lt;_io.TextIOWrapper name=<span class="string">'&lt;stdout&gt;'</span> mode=<span class="string">'w'</span> encoding=<span class="string">'UTF-8'</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.stdin</span><br><span class="line">&lt;_io.TextIOWrapper name=<span class="string">'&lt;stdin&gt;'</span> mode=<span class="string">'r'</span> encoding=<span class="string">'UTF-8'</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.stderr</span><br><span class="line">&lt;_io.TextIOWrapper name=<span class="string">'&lt;stderr&gt;'</span> mode=<span class="string">'w'</span> encoding=<span class="string">'UTF-8'</span>&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>12. print( )函数</strong></p>
<ul>
<li>调用：<blockquote>
<p>print(value, …, sep=’ ‘, end=’\n’, file=sys.stdout, flush=False)</p>
</blockquote>
</li>
<li>sep,设置分隔符，默认为空格</li>
<li>end,设置结束符，默认为换行符</li>
<li>file,指定输出位置，默认为sys.stdout标准输出流。理论上可以指定到任何带有write方法的对象，可以用来思想输出重定向。</li>
<li><p><code>print(X,Y)</code>等价于：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.stdout.write(str(X) + <span class="string">''</span> + str(Y) + <span class="string">'\n'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>python打印操作的重定向工具也可以理解为Shell重定向语句的纯python替代</p>
</li>
</ul>
<hr>
<h3 id="第-12-章if测试和语法规则"><a href="#第-12-章if测试和语法规则" class="headerlink" title="第 12 章if测试和语法规则"></a>第 12 章if测试和语法规则</h3><p><strong>1. 避免混合使用值表符和空格作为缩进</strong></p>
<p><strong>2. 任何表达式都可以包含在括号内实现跨行</strong></p>
<p><strong>3. 真值测试</strong></p>
<ul>
<li>任何非零或非空对象都为真</li>
<li>数字零、空对象和None为假</li>
</ul>
<p><strong>4. 布尔运算or和and都采用短路运算方式</strong></p>
<ul>
<li>从左至右计算</li>
<li>对or来说会在找到第一个真值的地方停止计算</li>
<li>对and来说会在找到第一个假值的地方停止计算</li>
</ul>
<p><strong>5. 利用实现or的赋值技巧</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将A，B，C中第一出现的真值赋值给X，入A，B，C都为假，则X为None</span></span><br><span class="line">X = A <span class="keyword">or</span> B <span class="keyword">or</span> C <span class="keyword">or</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果A为真（非空）将值赋给X，否则X为默认值。    </span></span><br><span class="line">X = A <span class="keyword">or</span> default</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="第-13-章while和for循环"><a href="#第-13-章while和for循环" class="headerlink" title="第 13 章while和for循环"></a>第 13 章while和for循环</h3><p><strong>1. break,continue,pass和循环else</strong></p>
<ul>
<li><code>break</code> 终止循环，彻底退出循环</li>
<li><code>continue</code> 跳到下次while循环判断，或下次for 赋值</li>
<li><code>pass</code> 占位符</li>
<li><code>循环else</code> 但循环正常退出（非break）是运行</li>
</ul>
<p><strong>2. for 循环支持tuple赋值</strong></p>
<ul>
<li>从语法上讲，任何表达式都可以放在for 关键字之后用于接受赋值。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> a,*b,c <span class="keyword">in</span> [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span>]]:</span><br><span class="line"><span class="meta">... </span>    print(a,b,c)</span><br><span class="line">...</span><br><span class="line"><span class="number">1</span> [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>] <span class="number">5</span></span><br><span class="line"><span class="number">10</span> [<span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>] <span class="number">70</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>3. 文件扫描</strong></p>
<ul>
<li>for 循环是最佳的实现逐行读取文件的方式<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'sss.txt'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        print(line)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>4.for 与 while</strong></p>
<ul>
<li>for比while更容易编写，而且性能优于while,可以有像考虑for实现。</li>
</ul>
<p><strong>5. 三个返回生成器对象的内置函数</strong></p>
<ul>
<li><p>什么是生成器对象？</p>
<blockquote>
<p>生成器对象有一个<strong>next</strong>方法，由next( )内置函数调用，可以生成下一个对象。</p>
</blockquote>
</li>
<li><p>zip( )函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#zip实现将多组序列按索引顺序对应的组成tuple</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>D1 = &#123;<span class="string">'increased'</span>:<span class="number">10</span>,<span class="string">'flat'</span>:<span class="number">150</span>,<span class="string">'necessary'</span>:<span class="number">50</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>D1</span><br><span class="line">&#123;<span class="string">'increased'</span>: <span class="number">10</span>, <span class="string">'flat'</span>: <span class="number">150</span>, <span class="string">'necessary'</span>: <span class="number">50</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>keys = list(D1.keys())</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>keys</span><br><span class="line">[<span class="string">'increased'</span>, <span class="string">'flat'</span>, <span class="string">'necessary'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>vals = list(D1.values())</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>vals</span><br><span class="line">[<span class="number">10</span>, <span class="number">150</span>, <span class="number">50</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test_zip = zip(keys,vals)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test_zip</span><br><span class="line">&lt;zip object at <span class="number">0x7fcfc408f288</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(test_zip)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">zip</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">list</span><span class="params">(test_zip)</span></span></span><br><span class="line">[('increased', 10), ('flat', 150), ('necessary', 50)]</span><br><span class="line"><span class="comment">#利用zip 构造字典</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>D2 = dict(zip(keys,vals))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>D2</span><br><span class="line">&#123;<span class="string">'increased'</span>: <span class="number">10</span>, <span class="string">'flat'</span>: <span class="number">150</span>, <span class="string">'necessary'</span>: <span class="number">50</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>map( )函数</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">map函数可以理解为映射，将原序列中的每项值遍历取出，利用指定的函数</span></span><br><span class="line"><span class="string">进行处理后返回生成器</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test_map = map(ord,<span class="string">'spam'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test_map</span><br><span class="line">&lt;map object at <span class="number">0x7fcfc37264a8</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(test_map)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">map</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">list</span><span class="params">(test_map)</span></span></span><br><span class="line">[115, 112, 97, 109]</span><br></pre></td></tr></table></figure>
</li>
<li><p>enumerate( )函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#enumerate函数，返回(索引,值)的生成器</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>keys</span><br><span class="line">[<span class="string">'increased'</span>, <span class="string">'flat'</span>, <span class="string">'necessary'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>E = enumerate(keys)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>E</span><br><span class="line">&lt;enumerate object at <span class="number">0x7fcfc372a438</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(E)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">enumerate</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">E</span>.<span class="title">next</span><span class="params">()</span></span></span><br><span class="line"><span class="class"><span class="title">Traceback</span> <span class="params">(most recent call last)</span>:</span></span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: <span class="string">'enumerate'</span> object has no attribute <span class="string">'next'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(E)</span><br><span class="line">(<span class="number">0</span>, <span class="string">'increased'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(E)</span><br><span class="line">(<span class="number">1</span>, <span class="string">'flat'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(E)</span><br><span class="line">(<span class="number">2</span>, <span class="string">'necessary'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(E)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">StopIteration</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(E)</span><br><span class="line">[]</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>6. range函数、切片和列表解析式遍历序列的比较</strong></p>
<ul>
<li>列表解析是最优，应作为首选</li>
<li>其次是切片</li>
<li>再次是range函数</li>
</ul>
<hr>
<h3 id="第-14-章迭代器和解析（一）"><a href="#第-14-章迭代器和解析（一）" class="headerlink" title="第 14 章迭代器和解析（一）"></a>第 14 章迭代器和解析（一）</h3><p><strong>1. 一点自己的看法</strong></p>
<ul>
<li><p>迭代器的概念刚接触可能觉得比较高级比较难懂，但是因为功能强大、性能优秀，所以在程序中非常常见。</p>
</li>
<li><p>为了能看到别人的程序，了解这些稍微高级一点的特性也是非常由必要的。</p>
</li>
<li><p>而且迭代器本身也能提供缩短代码长度、提高代码可读性、优化程序速度和内存使用等改善，非常由必要搞清楚。</p>
</li>
<li><p>但这种概念可能一下子不容易全部理解，要做好长期思考学习的准备，在实践中去慢慢体会。</p>
</li>
<li><p>现在第一步是要认识到使用迭代器的优势，语法。在自己写代码的时候尽量尝试用这种方式。</p>
</li>
</ul>
<p><strong>2. for循环可用于任何可迭代对象</strong></p>
<ul>
<li>实际上在python中类似for的具有遍历功能的迭代工具（如：map，zip，filter，reduce等）都是可用于任何可迭代对象的。</li>
</ul>
<p><strong>3. 可迭代的对象和迭代器</strong></p>
<ul>
<li><p>可迭代的对象，拥有__iter__属性，支持内置函数iter（），生成一个或若干各相同功能的迭代器。</p>
</li>
<li><p>可迭代对象支持len,索引等操作。</p>
</li>
<li><p>迭代器，拥有__next__属性，支持内置函数next（）,每次调用将返回序列中下一项的值。多次next后，将raise StopIteration异常，表示迭代器用尽，迭代器中的内容已被全部提取，迭代结束。</p>
</li>
<li><p>文件对象及一些内置函数的返回本身就是迭代器（如：map,zip,enumerate等）</p>
</li>
<li><p>迭代器<strong>不支持</strong>len,索引等操作。</p>
</li>
<li><p>比如用range（）函数返回的对写是一个可迭代的对象，调用iter（）函数后生成一个支持next（）函数的迭代器对象。如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>l = range(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l</span><br><span class="line">range(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(l)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">range</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">dir</span><span class="params">(l)</span></span></span><br><span class="line">['__bool__', '__class__', '__contains__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__len__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__reversed__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', 'count', 'index', 'start', 'step', 'stop']</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(l)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: <span class="string">'range'</span> object <span class="keyword">is</span> <span class="keyword">not</span> an iterator</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l_iterator = iter(l)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(l_iterator)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">range_iterator</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">dir</span><span class="params">(l_iterator)</span></span></span><br><span class="line">['__class__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__length_hint__', '__lt__', '__ne__', '__new__', '__next__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__str__', '__subclasshook__']</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l_iterator</span><br><span class="line">&lt;range_iterator object at <span class="number">0x7f81cb09ddb0</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(l_iterator)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(l_iterator)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(l_iterator)</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果iterator中的值已经提取光了，再调用next()函数回引发StopIteration 异常，这也是判断迭代是否结束的方法。</p>
</li>
<li><p>迭代器协议：由<strong>next</strong>方法的对象，可以被内置函数next( )调用，获取序列的下一个项的值。</p>
</li>
<li><p>一般情况，调用next（X）等同于X.__next__</p>
</li>
</ul>
<p><strong>3. 文件自身就是迭代器</strong></p>
<ul>
<li><p>文件自身就是迭代器，可以直接调用next（）函数。</p>
</li>
<li><p>而列表等大多数对象自身并不是迭代器,需要iter()函数生成对应的迭代器。</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = open(<span class="string">'Atom.md'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dir(f)</span><br><span class="line">[<span class="string">'_CHUNK_SIZE'</span>, <span class="string">'__class__'</span>, <span class="string">'__del__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__dict__'</span>, <span class="string">'__dir__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__enter__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__exit__'</span>, <span class="string">'__format__'</span>, <span class="string">'__ge__'</span>, <span class="string">'__getattribute__'</span>, <span class="string">'__getstate__'</span>, <span class="string">'__gt__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__init__'</span>, <span class="string">'__init_subclass__'</span>, <span class="string">'__iter__'</span>, <span class="string">'__le__'</span>, <span class="string">'__lt__'</span>, <span class="string">'__ne__'</span>, <span class="string">'__new__'</span>, <span class="string">'__next__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>, <span class="string">'__setattr__'</span>, <span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>, <span class="string">'_checkClosed'</span>, <span class="string">'_checkReadable'</span>, <span class="string">'_checkSeekable'</span>, <span class="string">'_checkWritable'</span>, <span class="string">'_finalizing'</span>, <span class="string">'buffer'</span>, <span class="string">'close'</span>, <span class="string">'closed'</span>, <span class="string">'detach'</span>, <span class="string">'encoding'</span>, <span class="string">'errors'</span>, <span class="string">'fileno'</span>, <span class="string">'flush'</span>, <span class="string">'isatty'</span>, <span class="string">'line_buffering'</span>, <span class="string">'mode'</span>, <span class="string">'name'</span>, <span class="string">'newlines'</span>, <span class="string">'read'</span>, <span class="string">'readable'</span>, <span class="string">'readline'</span>, <span class="string">'readlines'</span>, <span class="string">'seek'</span>, <span class="string">'seekable'</span>, <span class="string">'tell'</span>, <span class="string">'truncate'</span>, <span class="string">'writable'</span>, <span class="string">'write'</span>, <span class="string">'writelines'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iter(f) <span class="keyword">is</span> f</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(f)</span><br><span class="line"><span class="string">'# Atom 常用整理\n'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(L)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: <span class="string">'list'</span> object <span class="keyword">is</span> <span class="keyword">not</span> an iterator</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L_iterator = iter(L)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(L_iterator)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">list_iterator</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">next</span><span class="params">(L_iterator)</span></span></span><br><span class="line"><span class="class">1</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">L_iterator</span>.<span class="title">__next__</span></span></span><br><span class="line"><span class="class">&lt;<span class="title">method</span>-<span class="title">wrapper</span> '<span class="title">__next__</span>' <span class="title">of</span> <span class="title">list_iterator</span> <span class="title">object</span> <span class="title">at</span> 0<span class="title">x7f81cae09358</span>&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">L_iterator</span>.<span class="title">__next__</span></span></span><br><span class="line"><span class="class">&lt;<span class="title">method</span>-<span class="title">wrapper</span> '<span class="title">__next__</span>' <span class="title">of</span> <span class="title">list_iterator</span> <span class="title">object</span> <span class="title">at</span> 0<span class="title">x7f81cae09358</span>&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">next</span><span class="params">(L_iterator)</span></span></span><br><span class="line"><span class="class">2</span></span><br><span class="line"><span class="class">&gt;&gt;&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>4. for循环调用的 x.__next__</strong></p>
<ul>
<li><p>这一点可以了解一下，不需要记</p>
</li>
<li><p>for循环内部实际上是调用的x.__next__,而不是next(x)。这两者在绝大部分情况下是没有区别的。</p>
</li>
</ul>
<p><strong>5. 列表解析</strong></p>
<ul>
<li><p>作用：用一个表达式生成一个我们需要的所有对象，将结果收集在一个列表当中。</p>
</li>
<li><p>列表解析比for循环语句执行速度快。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>l = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">4</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>6. 列表解析可作用与文件对象</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> line <span class="keyword">in</span> open(<span class="string">'test.txt'</span>):</span><br><span class="line"><span class="meta">... </span>    print(line)</span><br><span class="line">...</span><br><span class="line">Today <span class="keyword">is</span> Sunday!</span><br><span class="line"></span><br><span class="line">It <span class="keyword">is</span> a sunny day!</span><br><span class="line"></span><br><span class="line">I read something at home. It <span class="keyword">is</span> great.</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lines = [line.upper() <span class="keyword">for</span> line <span class="keyword">in</span> open(<span class="string">'test.txt'</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lines</span><br><span class="line">[<span class="string">'TODAY IS SUNDAY!\n'</span>, <span class="string">'IT IS A SUNNY DAY!\n'</span>, <span class="string">'I READ SOMETHING AT HOME. IT IS GREAT.\n'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lines = [line.split() <span class="keyword">for</span> line <span class="keyword">in</span> open(<span class="string">'test.txt'</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lines</span><br><span class="line">[[<span class="string">'Today'</span>, <span class="string">'is'</span>, <span class="string">'Sunday!'</span>], [<span class="string">'It'</span>, <span class="string">'is'</span>, <span class="string">'a'</span>, <span class="string">'sunny'</span>, <span class="string">'day!'</span>], [<span class="string">'I'</span>, <span class="string">'read'</span>, <span class="string">'something'</span>, <span class="string">'at'</span>, <span class="string">'home.'</span>, <span class="string">'It'</span>, <span class="string">'is'</span>, <span class="string">'great.'</span>]]</span><br></pre></td></tr></table></figure>
<p><strong>7. 列表解析扩展功能</strong></p>
<ul>
<li><p>列表解析可以配合if构造条件</p>
</li>
<li><p>列表解析可以进行嵌套</p>
</li>
<li><p>语法上允许任意数量的for子句，每个子句都可以配合if使用</p>
</li>
</ul>
<p><strong>8. 在python 中还有很多函数也利用到了迭代协议</strong></p>
<ul>
<li><code>sort，sum，any,all,max,min,list,tuple,join</code>等类似需要从左到右遍历序列的函数都利用了迭代协议。</li>
</ul>
<p><strong>9. 字典的迭代用法</strong></p>
<ul>
<li>按key排序打印字典<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>D = dict(a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>D</span><br><span class="line">&#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>D.keys()</span><br><span class="line">dict_keys([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>k = D.keys()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>k</span><br><span class="line">dict_keys([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(k)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: <span class="string">'dict_keys'</span> object <span class="keyword">is</span> <span class="keyword">not</span> an iterator</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> k <span class="keyword">in</span> sorted(D.keys()):</span><br><span class="line"><span class="meta">... </span>    print(k,D[k])</span><br><span class="line">...</span><br><span class="line">a <span class="number">1</span></span><br><span class="line">b <span class="number">2</span></span><br><span class="line">c <span class="number">3</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="第-15-章文档"><a href="#第-15-章文档" class="headerlink" title="第 15 章文档"></a>第 15 章文档</h3><p><strong>1. dir( )函数</strong></p>
<ul>
<li>打印任何对象的所有属性和方法。</li>
</ul>
<p><strong>2. 文档字符串</strong></p>
<ul>
<li><code>print(&lt;模块名&gt;.__doc__)</code> 打印模块说明字符串</li>
</ul>
<p><strong>3. help( )函数</strong></p>
<ul>
<li><p>查看帮助文档</p>
</li>
<li><p>与dir( )配合使用，先dir找到具体的属性方法名称，再用help查看具体的帮助文档。</p>
</li>
</ul>
<p><strong>4. PyDoc</strong></p>
<ul>
<li>离线网页版的帮助文档</li>
</ul>
<p><strong>5. 标准库文档</strong></p>
<ul>
<li><a href="https://www.python.org" target="_blank" rel="noopener">python官方网站</a></li>
</ul>
<p><strong>6. 常见的书写代码陷阱</strong></p>
<ul>
<li><p>不要忘了复合语句末尾的冒号</p>
</li>
<li><p>不要值表符与空格混用的缩进</p>
</li>
<li><p>尽量用简单的for语句，而不是while或range</p>
</li>
<li><p>注意赋值语句中的可变对象</p>
</li>
<li><p>不要有类似L = L.sort()的赋值语句，sort()的返回值在任何时都是None</p>
</li>
<li><p>调用函数一定要记得跟括号</p>
</li>
<li><p>不要在import或reload时使用扩展名或路径</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Kung</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kung</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
